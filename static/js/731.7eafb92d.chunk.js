"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[731],{4778:function(e,r,t){t.d(r,{Z:function(){return k}});var n=t(2791),a=t(3433),i=t(1413),s=t(5861),l=t(9439),c=t(4687),o=t.n(c),u=t(4164),_={conteiner:"modal_conteiner__CMbRh",overlay:"modal_overlay__D1Rh8",modal:"modal_modal__XhTq8",close_btn:"modal_close_btn__i2MLm",close:"modal_close__MkPJ0",card_car:"modal_card_car__ol7sr",container_img:"modal_container_img__u8dtP",wrapper_text:"modal_wrapper_text__4tcVu",button_card:"modal_button_card__dPB9V",wrap_subtitle:"modal_wrap_subtitle__AI8EU",options:"modal_options__OA9qW",options_func:"modal_options_func__X9UEL",description_subtitle:"modal_description_subtitle__E7EYb",description:"modal_description__tR1uE",wrap_options_rent:"modal_wrap_options_rent__EGOie",options_rent_array:"modal_options_rent_array__qFrD6",options_rent:"modal_options_rent__TO7I5"};var d=t.p+"static/media/close.deb20e5da737e93121346cb3855e8f21.svg",m="buttonLink_link__h3l3b",p=t(184),f=function(e){var r=e.title;return(0,p.jsx)("a",{href:"tel:+380730000000",className:m,children:r})},h=document.getElementById("modal-root"),x=function(e){var r=e.carCard,t=e.onClose,n=r.id,a=r.make,i=r.model,s=r.year,l=r.type,c=r.img,o=r.description,m=r.rentalPrice,x=r.rentalCompany,b=r.mileage,j=r.functionalities,v=r.address,N=r.rentalConditions,g=v.split(", "),y=g[g.length-1],w=g[g.length-2],C=N.split(/\r\n|\r|\n/g),k=C[0];var S=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}(b);return(0,u.createPortal)((0,p.jsx)("div",{className:_.overlay,onClick:t,children:(0,p.jsxs)("div",{className:_.modal,children:[(0,p.jsx)("button",{type:"button",onClick:t,className:_.close_btn,children:(0,p.jsx)("img",{className:_.close,src:d,alt:"Icon close",onClick:t})}),(0,p.jsxs)("div",{className:_.card_car,children:[(0,p.jsx)("div",{className:_.wrap_button_fav}),(0,p.jsx)("div",{className:_.container_img,children:(0,p.jsx)("img",{src:c,alt:i})}),(0,p.jsxs)("div",{className:_.wrapper_text,children:[(0,p.jsx)("div",{className:_.wrap_subtitle,children:(0,p.jsxs)("p",{className:_.subtitle,children:[a," ",(0,p.jsx)("span",{children:i}),", ",s]})}),(0,p.jsxs)("ul",{className:_.options,children:[(0,p.jsx)("li",{children:y}),(0,p.jsx)("li",{children:w}),(0,p.jsx)("li",{children:x}),(0,p.jsx)("li",{children:l}),(0,p.jsx)("li",{children:i}),(0,p.jsx)("li",{children:n})]}),(0,p.jsx)("p",{className:_.description_subtitle,children:o}),(0,p.jsx)("h3",{className:_.description,children:"Accessories and functionalities:"}),(0,p.jsx)("ul",{className:_.options_func,children:j.map((function(e,r){return(0,p.jsx)("li",{children:e},r)}))}),(0,p.jsx)("h3",{className:_.description_subtitle,children:"Rental Conditions: "}),(0,p.jsxs)("div",{className:_.wrap_options_rent,children:[(0,p.jsx)("ul",{className:_.options_rent_array,children:C.map((function(e,r){return 0===r?(0,p.jsxs)("li",{children:[k.slice(0,k.length-2)," ",(0,p.jsx)("span",{children:k.slice(k.length-2,k.length)})]}):(0,p.jsx)("li",{children:e},r)}))}),(0,p.jsxs)("p",{className:_.options_rent,children:["mileage: ",(0,p.jsx)("span",{children:S})]}),(0,p.jsxs)("p",{className:_.options_rent,children:["price: ",(0,p.jsx)("span",{children:m})]})]})]}),(0,p.jsx)(f,{title:"Rental car"})]})]})}),h)},b={conteiner:"galleryItem_conteiner__EgqgD",card_car:"galleryItem_card_car__XMiqD",wrap_button_fav:"galleryItem_wrap_button_fav__WPwRo",container_img:"galleryItem_container_img__1F2oj",wrapper_text:"galleryItem_wrapper_text__0OgUm",button_card:"galleryItem_button_card__PjqaH",wrap_subtitle:"galleryItem_wrap_subtitle__OSK7k",options:"galleryItem_options__rGp7J"},j=t(2134),v="buttonFavorite_btn_favorite__tii43",N="buttonFavorite_btn_favorite_active__1VUty",g=function(e){var r=e.onClick,t=e.favorite;return(0,p.jsx)("button",{type:"button",className:t?N:v,onClick:r,children:t?(0,p.jsx)(j.M_L,{size:18}):(0,p.jsx)(j.lo,{size:18})})},y=t(7361),w=function(e){var r=e.car,t=r.id,c=r.make,u=r.model,_=r.year,d=r.type,m=r.img,f=r.rentalPrice,h=r.rentalCompany,j=r.functionalities,v=r.address,N=(0,n.useState)(!1),w=(0,l.Z)(N,2),C=w[0],k=w[1],S=function(){k(!1)},E=(0,n.useState)(!1),I=(0,l.Z)(E,2),P=I[0],M=I[1];(0,n.useEffect)((function(){var e=function(e){"Escape"===e.code&&S()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var O=function(){var e=(0,s.Z)(o().mark((function e(t){var n,s,l,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=JSON.parse(localStorage.getItem(y.jP))||[],s=n.some((function(e){return e.id===t})),s?(u=n.filter((function(e){return e.id!==t})),localStorage.setItem(y.jP,JSON.stringify(u))):(l=(0,i.Z)({},r),c=[].concat((0,a.Z)(n),[l]),localStorage.setItem(y.jP,JSON.stringify(c))),M(!s);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){var e=(JSON.parse(localStorage.getItem(y.jP))||[]).some((function(e){return e.id===t}));M(e)}),[t]);var F=v.split(", "),Z=F[F.length-1],L=F[F.length-2],B=j[0].split(" ")[0];return(0,p.jsxs)("li",{className:b.card_car,children:[(0,p.jsx)("div",{className:b.wrap_button_fav,children:(0,p.jsx)(g,{onClick:function(){return O(t)},favorite:P})}),(0,p.jsx)("div",{className:b.container_img,children:(0,p.jsx)("img",{src:m,alt:u})}),(0,p.jsxs)("div",{className:b.wrapper_text,children:[(0,p.jsxs)("div",{className:b.wrap_subtitle,children:[(0,p.jsxs)("p",{className:b.subtitle,children:[c," ",(0,p.jsx)("span",{children:u}),", ",_]}),(0,p.jsx)("p",{children:f})]}),(0,p.jsxs)("ul",{className:b.options,children:[(0,p.jsx)("li",{children:Z}),(0,p.jsx)("li",{children:L}),(0,p.jsx)("li",{children:h}),(0,p.jsx)("li",{children:d}),(0,p.jsx)("li",{children:u}),(0,p.jsx)("li",{children:t}),(0,p.jsx)("li",{children:B})]})]}),(0,p.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),k(!0)},className:b.button_card,children:"Learn more"}),C&&(0,p.jsx)(x,{onClose:function(e){e.target!==e.currentTarget&&"Escape"!==e.code||S()},carCard:r},t)]},t)},C="carsGallery_ImageGallery__l1B6P",k=function(e){var r=e.arrayCars;return(0,p.jsx)("ul",{className:C,children:r.map((function(e){return(0,p.jsx)(w,{car:e},e.id)}))})}},8572:function(e,r,t){t.d(r,{Z:function(){return f}});t(2791);var n="form_form_wrapper__ZVHW9",a="form_select_brand__kC7du",i="form_select_price__-mdMK",s="form_input_start__onFt7",l="form_input_end__cggjD",c="form_text_select__ii4Jt",o="form_text_placeholder__1r3a+",u="form_btn_filter__fKq36",_="form_label__UGexp",d="form_label_empty__kTWhr",m="form_wrap_input__4n+dm",p=t(184),f=function(e){var r=e.onSubmit,t=e.brandCar,f=e.priceFilter;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("form",{autoComplete:"off",onSubmit:r,children:(0,p.jsxs)("div",{className:n,children:[(0,p.jsxs)("label",{className:_,children:["Car brand",(0,p.jsxs)("select",{name:"brand",className:a,children:[(0,p.jsx)("option",{value:"",className:o,children:"Enter the text"}),t.map((function(e,r){return(0,p.jsx)("option",{value:e,className:c,children:e},r)}))]})]}),(0,p.jsxs)("label",{className:_,children:["Price/1 hour",(0,p.jsxs)("select",{name:"priceHour",className:i,children:[(0,p.jsx)("option",{value:"",className:o,children:"To $"}),f.map((function(e,r){return(0,p.jsx)("option",{value:e,className:c,children:e},r)}))]})]}),(0,p.jsxs)("div",{className:m,children:[(0,p.jsxs)("label",{htmlFor:"input_start",className:_,children:["\u0421ar mileage / km",(0,p.jsx)("input",{className:s,htmlFor:"input_start",type:"number",min:"0",max:"999999",autoComplete:"off",placeholder:"From",name:"milageStart"})," "]}),(0,p.jsxs)("label",{htmlFor:"input_end",className:d,children:[" ",(0,p.jsx)("input",{className:l,htmlFor:"input_end",type:"number",min:"0",max:"999999",autoComplete:"off",placeholder:"To",name:"milageEnd"})]})]}),(0,p.jsx)("button",{className:u,type:"submit",children:"Search"})]})})})}},7361:function(e,r,t){t.d(r,{iB:function(){return n},jP:function(){return i},yo:function(){return s}});for(var n=[],a=10;a<=110;a+=10)n.push(a);var i="KEY_FAVORITE_CARS",s="https://res.cloudinary.com/ditdqzoio/image/upload/v1687252635/cars/aston_martin_dbs.webp"},2731:function(e,r,t){t.r(r),t.d(r,{default:function(){return g}});var n=t(3433),a=t(9439),i=t(2791),s=t(9434),l=function(e){return e.cars.catalog},c=t(7020),o=t(8650),u="loader_loader-wrapper__48ICB",_=t(184),d=function(){return(0,_.jsx)("div",{className:u,children:(0,_.jsx)(o.Yt,{visible:!0,height:"80",width:"80",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#c0efff",color:"#e15b64"})})},m=t(4778),p="button_button__0On-O",f=function(e){var r=e.title,t=e.onClick;return(0,_.jsx)("button",{type:"button",className:p,onClick:t,children:r})},h=t(8572),x=t(7361),b=t(8524),j="Cars_car_container__P2-Gs",v="Cars_not_found__2QSfl",N=t(3402),g=function(){var e=(0,i.useState)(1),r=(0,a.Z)(e,2),t=r[0],o=r[1],u=(0,i.useState)([]),p=(0,a.Z)(u,2),g=p[0],y=p[1],w=(0,i.useState)([]),C=(0,a.Z)(w,2),k=C[0],S=C[1],E=(0,s.I0)(),I=(0,s.v9)(l),P=I.items,M=I.isLoading;(0,i.useEffect)((function(){E((0,c.c)())}),[E]),(0,i.useEffect)((function(){y(P),S(P.slice(0,8*t))}),[t,P]);var O=g.length>k.length&&!M,F=0===k.length&&!M;return(0,_.jsxs)("div",{className:j,children:[(0,_.jsx)("div",{children:(0,_.jsx)(N.x7,{})}),(0,_.jsx)(h.Z,{onSubmit:function(e){e.preventDefault();var r=e.currentTarget,t=r.elements.brand.value,a=r.elements.priceHour.value,i=r.elements.milageStart.value,s=r.elements.milageEnd.value,l=(0,n.Z)(P);return t||a||i||s?Number(i)>0&&Number(s)>0&&Number(i)>Number(s)?(N.ZP.error("value FROM < then value TO"),S(l.slice(0,7)),void y(l)):(t&&(l=l.filter((function(e){return e.make===t}))),Number(a)>0&&(l=l.filter((function(e){return Number(e.rentalPrice.replace("$",""))===Number(a)}))),Number(i)>0&&0===Number(s)&&(l=l.filter((function(e){return Number(e.mileage)>=Number(i)}))),Number(s)>0&&0===Number(i)&&(l=l.filter((function(e){return Number(e.mileage)<=Number(s)}))),Number(i)>0&&Number(s)>0&&(Number(i)>Number(s)&&N.ZP.error("value FROM < then value TO"),l=l.filter((function(e){return Number(e.mileage)>=Number(i)&&Number(e.mileage)<=Number(s)}))),S(l.slice(0,7)),void y(l)):(S(l.slice(0,7)),void y(l))},brandCar:b,priceFilter:x.iB}),M&&(0,_.jsx)(d,{}),F?(0,_.jsx)("h2",{className:v,children:"Nothing found..."}):(0,_.jsx)(m.Z,{arrayCars:k}),O&&(0,_.jsx)(f,{title:"Load more",onClick:function(){o((function(e){return e+1}))}})]})}},8524:function(e){e.exports=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"]')}}]);
//# sourceMappingURL=731.7eafb92d.chunk.js.map