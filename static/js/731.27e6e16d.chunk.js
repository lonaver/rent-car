"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[731],{4778:function(e,r,n){n.d(r,{Z:function(){return k}});var t=n(2791),a=n(3433),i=n(1413),s=n(5861),l=n(9439),o=n(4687),c=n.n(o),u=n(4164),_={conteiner:"modal_conteiner__CMbRh",overlay:"modal_overlay__D1Rh8",modal:"modal_modal__XhTq8",close_btn:"modal_close_btn__i2MLm",close:"modal_close__MkPJ0",card_car:"modal_card_car__ol7sr",container_img:"modal_container_img__u8dtP",wrapper_text:"modal_wrapper_text__4tcVu",button_card:"modal_button_card__dPB9V",wrap_subtitle:"modal_wrap_subtitle__AI8EU",options:"modal_options__OA9qW",options_func:"modal_options_func__X9UEL",description_subtitle:"modal_description_subtitle__E7EYb",description:"modal_description__tR1uE",wrap_options_rent:"modal_wrap_options_rent__EGOie",options_rent_array:"modal_options_rent_array__qFrD6",options_rent:"modal_options_rent__TO7I5"};var d=n.p+"static/media/close.deb20e5da737e93121346cb3855e8f21.svg",m="buttonLink_link__h3l3b",p=n(184),h=function(e){var r=e.title;return(0,p.jsx)("a",{href:"tel:+380730000000",className:m,children:r})},f=document.getElementById("modal-root"),x=function(e){var r=e.carCard,n=e.onClose,t=r.id,a=r.make,i=r.model,s=r.year,l=r.type,o=r.img,c=r.description,m=r.rentalPrice,x=r.rentalCompany,b=r.mileage,j=r.functionalities,v=r.address,N=r.rentalConditions,g=v.split(", "),y=g[g.length-1],C=g[g.length-2],w=N.split(/\r\n|\r|\n/g),k=w[0];var S=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}(b);return(0,u.createPortal)((0,p.jsx)("div",{className:_.overlay,onClick:n,children:(0,p.jsxs)("div",{className:_.modal,children:[(0,p.jsx)("button",{type:"button",onClick:n,className:_.close_btn,children:(0,p.jsx)("img",{className:_.close,src:d,alt:"Icon close",onClick:n})}),(0,p.jsxs)("div",{className:_.card_car,children:[(0,p.jsx)("div",{className:_.container_img,children:(0,p.jsx)("img",{src:o,alt:i})}),(0,p.jsxs)("div",{className:_.wrapper_text,children:[(0,p.jsx)("div",{className:_.wrap_subtitle,children:(0,p.jsxs)("p",{className:_.subtitle,children:[a," ",(0,p.jsx)("span",{children:i}),", ",s]})}),(0,p.jsxs)("ul",{className:_.options,children:[(0,p.jsx)("li",{children:y}),(0,p.jsx)("li",{children:C}),(0,p.jsx)("li",{children:x}),(0,p.jsx)("li",{children:l}),(0,p.jsx)("li",{children:i}),(0,p.jsx)("li",{children:t})]}),(0,p.jsx)("p",{className:_.description_subtitle,children:c}),(0,p.jsx)("h3",{className:_.description,children:"Accessories and functionalities:"}),(0,p.jsx)("ul",{className:_.options_func,children:j.map((function(e,r){return(0,p.jsx)("li",{children:e},r)}))}),(0,p.jsx)("h3",{className:_.description_subtitle,children:"Rental Conditions: "}),(0,p.jsxs)("div",{className:_.wrap_options_rent,children:[(0,p.jsx)("ul",{className:_.options_rent_array,children:w.map((function(e,r){return 0===r?(0,p.jsxs)("li",{children:[k.slice(0,k.length-2)," ",(0,p.jsx)("span",{children:k.slice(k.length-2,k.length)})]}):(0,p.jsx)("li",{children:e},r)}))}),(0,p.jsxs)("p",{className:_.options_rent,children:["mileage: ",(0,p.jsx)("span",{children:S})]}),(0,p.jsxs)("p",{className:_.options_rent,children:["price: ",(0,p.jsx)("span",{children:m})]})]})]}),(0,p.jsx)(h,{title:"Rental car"})]})]})}),f)},b={conteiner:"galleryItem_conteiner__EgqgD",card_car:"galleryItem_card_car__XMiqD",wrap_button_fav:"galleryItem_wrap_button_fav__WPwRo",container_img:"galleryItem_container_img__1F2oj",wrapper_text:"galleryItem_wrapper_text__0OgUm",button_card:"galleryItem_button_card__PjqaH",wrap_subtitle:"galleryItem_wrap_subtitle__OSK7k",options:"galleryItem_options__rGp7J"},j=n(2134),v="buttonFavorite_btn_favorite__tii43",N="buttonFavorite_btn_favorite_active__1VUty",g=function(e){var r=e.onClick,n=e.favorite;return(0,p.jsx)("button",{type:"button",className:n?N:v,onClick:r,children:n?(0,p.jsx)(j.M_L,{size:18}):(0,p.jsx)(j.lo,{size:18})})},y=n(7361),C=function(e){var r=e.car,n=e.onChangeFavorites,o=r.id,u=r.make,_=r.model,d=r.year,m=r.type,h=r.img,f=r.rentalPrice,j=r.rentalCompany,v=r.functionalities,N=r.address,C=(0,t.useState)(!1),w=(0,l.Z)(C,2),k=w[0],S=w[1],E=function(){S(!1)},I=(0,t.useState)(!1),P=(0,l.Z)(I,2),F=P[0],M=P[1];(0,t.useEffect)((function(){var e=function(e){"Escape"===e.code&&E()};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]);var O=function(){var e=(0,s.Z)(c().mark((function e(t){var s,l,o,u,_;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=JSON.parse(localStorage.getItem(y.jP))||[],l=s.some((function(e){return e.id===t})),l?(_=s.filter((function(e){return e.id!==t})),localStorage.setItem(y.jP,JSON.stringify(_)),n(_)):(o=(0,i.Z)({},r),u=[].concat((0,a.Z)(s),[o]),localStorage.setItem(y.jP,JSON.stringify(u)),n(u)),M(!l);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){var e=(JSON.parse(localStorage.getItem(y.jP))||[]).some((function(e){return e.id===o}));M(e)}),[o]);var Z=N.split(", "),L=Z[Z.length-1],B=Z[Z.length-2],R=v[0].split(" ")[0];return(0,p.jsxs)("li",{className:b.card_car,children:[(0,p.jsx)("div",{className:b.wrap_button_fav,children:(0,p.jsx)(g,{onClick:function(){return O(o)},favorite:F})}),(0,p.jsx)("div",{className:b.container_img,children:(0,p.jsx)("img",{src:h,alt:_})}),(0,p.jsxs)("div",{className:b.wrapper_text,children:[(0,p.jsxs)("div",{className:b.wrap_subtitle,children:[(0,p.jsxs)("p",{className:b.subtitle,children:[u," ",(0,p.jsx)("span",{children:_}),", ",d]}),(0,p.jsx)("p",{children:f})]}),(0,p.jsxs)("ul",{className:b.options,children:[(0,p.jsx)("li",{children:L}),(0,p.jsx)("li",{children:B}),(0,p.jsx)("li",{children:j}),(0,p.jsx)("li",{children:m}),(0,p.jsx)("li",{children:_}),(0,p.jsx)("li",{children:o}),(0,p.jsx)("li",{children:R})]})]}),(0,p.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),S(!0)},className:b.button_card,children:"Learn more"}),k&&(0,p.jsx)(x,{onClose:function(e){e.target!==e.currentTarget&&"Escape"!==e.code||E()},carCard:r},o)]},o)},w="carsGallery_ImageGallery__l1B6P",k=function(e){var r=e.arrayCars,n=e.onChangeFavorites,t=void 0===n?function(){}:n;return(0,p.jsx)("ul",{className:w,children:r.map((function(e){return(0,p.jsx)(C,{car:e,onChangeFavorites:t},e.id)}))})}},8572:function(e,r,n){n.d(r,{Z:function(){return h}});n(2791);var t="form_form_wrapper__ZVHW9",a="form_select_brand__kC7du",i="form_select_price__-mdMK",s="form_input_start__onFt7",l="form_input_end__cggjD",o="form_text_select__ii4Jt",c="form_text_placeholder__1r3a+",u="form_btn_filter__fKq36",_="form_label__UGexp",d="form_label_empty__kTWhr",m="form_wrap_input__4n+dm",p=n(184),h=function(e){var r=e.onSubmit,n=e.brandCar,h=e.priceFilter;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("form",{autoComplete:"off",onSubmit:r,children:(0,p.jsxs)("div",{className:t,children:[(0,p.jsxs)("label",{className:_,children:["Car brand",(0,p.jsxs)("select",{name:"brand",className:a,children:[(0,p.jsx)("option",{value:"",className:c,children:"Enter the text"}),n.map((function(e,r){return(0,p.jsx)("option",{value:e,className:o,children:e},r)}))]})]}),(0,p.jsxs)("label",{className:_,children:["Price/1 hour",(0,p.jsxs)("select",{name:"priceHour",className:i,children:[(0,p.jsx)("option",{value:"",className:c,children:"To $"}),h.map((function(e,r){return(0,p.jsx)("option",{value:e,className:o,children:e},r)}))]})]}),(0,p.jsxs)("div",{className:m,children:[(0,p.jsxs)("label",{htmlFor:"input_start",className:_,children:["\u0421ar mileage / km",(0,p.jsx)("input",{className:s,htmlFor:"input_start",type:"number",min:"0",max:"999999",autoComplete:"off",placeholder:"From",name:"milageStart"})," "]}),(0,p.jsxs)("label",{htmlFor:"input_end",className:d,children:[" ",(0,p.jsx)("input",{className:l,htmlFor:"input_end",type:"number",min:"0",max:"999999",autoComplete:"off",placeholder:"To",name:"milageEnd"})]})]}),(0,p.jsx)("button",{className:u,type:"submit",children:"Search"})]})})})}},7361:function(e,r,n){n.d(r,{iB:function(){return t},jP:function(){return i},yo:function(){return s}});for(var t=[],a=10;a<=110;a+=10)t.push(a);var i="KEY_FAVORITE_CARS",s="https://res.cloudinary.com/ditdqzoio/image/upload/v1687252635/cars/aston_martin_dbs.webp"},2731:function(e,r,n){n.r(r),n.d(r,{default:function(){return g}});var t=n(3433),a=n(9439),i=n(2791),s=n(9434),l=function(e){return e.cars.catalog},o=n(7020),c=n(8650),u="loader_loader-wrapper__48ICB",_=n(184),d=function(){return(0,_.jsx)("div",{className:u,children:(0,_.jsx)(c.Yt,{visible:!0,height:"80",width:"80",ariaLabel:"MagnifyingGlass-loading",wrapperStyle:{},wrapperClass:"MagnifyingGlass-wrapper",glassColor:"#c0efff",color:"#e15b64"})})},m=n(4778),p="button_button__0On-O",h=function(e){var r=e.title,n=e.onClick;return(0,_.jsx)("button",{type:"button",className:p,onClick:n,children:r})},f=n(8572),x=n(7361),b=n(8524),j="Cars_car_container__P2-Gs",v="Cars_not_found__2QSfl",N=n(3402),g=function(){var e=(0,i.useState)(1),r=(0,a.Z)(e,2),n=r[0],c=r[1],u=(0,i.useState)([]),p=(0,a.Z)(u,2),g=p[0],y=p[1],C=(0,i.useState)([]),w=(0,a.Z)(C,2),k=w[0],S=w[1],E=(0,s.I0)(),I=(0,s.v9)(l),P=I.items,F=I.isLoading;(0,i.useEffect)((function(){E((0,o.c)())}),[E]),(0,i.useEffect)((function(){y(P),S(P.slice(0,8*n))}),[n,P]);var M=g.length>k.length&&!F,O=0===k.length&&!F;return(0,_.jsxs)("div",{className:j,children:[(0,_.jsx)("div",{children:(0,_.jsx)(N.x7,{})}),(0,_.jsx)(f.Z,{onSubmit:function(e){e.preventDefault();var r=e.currentTarget,n=r.elements.brand.value,a=r.elements.priceHour.value,i=r.elements.milageStart.value,s=r.elements.milageEnd.value,l=(0,t.Z)(P);return n||a||i||s?Number(i)>0&&Number(s)>0&&Number(i)>Number(s)?(N.ZP.error("value FROM < then value TO"),S(l.slice(0,7)),void y(l)):(n&&(l=l.filter((function(e){return e.make===n}))),Number(a)>0&&(l=l.filter((function(e){return Number(e.rentalPrice.replace("$",""))===Number(a)}))),Number(i)>0&&0===Number(s)&&(l=l.filter((function(e){return Number(e.mileage)>=Number(i)}))),Number(s)>0&&0===Number(i)&&(l=l.filter((function(e){return Number(e.mileage)<=Number(s)}))),Number(i)>0&&Number(s)>0&&(Number(i)>Number(s)&&N.ZP.error("value FROM < then value TO"),l=l.filter((function(e){return Number(e.mileage)>=Number(i)&&Number(e.mileage)<=Number(s)}))),S(l.slice(0,7)),void y(l)):(S(l.slice(0,7)),void y(l))},brandCar:b,priceFilter:x.iB}),F&&(0,_.jsx)(d,{}),O?(0,_.jsx)("h2",{className:v,children:"Nothing found..."}):(0,_.jsx)(m.Z,{arrayCars:k}),M&&(0,_.jsx)(h,{title:"Load more",onClick:function(){c((function(e){return e+1}))}})]})}},8524:function(e){e.exports=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes-Benz","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land"]')}}]);
//# sourceMappingURL=731.27e6e16d.chunk.js.map